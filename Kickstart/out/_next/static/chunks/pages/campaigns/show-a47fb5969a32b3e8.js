(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{8164:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/show",function(){return t(5243)}])},5243:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return S}});var n=t(7568),s=t(1438),a=t(2951),i=t(8029),o=t(460),u=t(7582),c=t(5893),d=t(7294),h=t(2256),l=t(8005),m=t(967),p=t(3544),f=t(1508),g=t(4148),Z=t(4111),v=t(4924),b=t(5424),w=t(416),C=t(8156),j=t(6215),x=function(e){(0,i.Z)(t,e);var r=(0,o.Z)(t);function t(){var e;(0,s.Z)(this,t),e=r.apply(this,arguments),(0,v.Z)((0,Z.Z)(e),"state",{value:"",errorMessage:"",loading:!1});var a=(0,Z.Z)(e);return(0,v.Z)((0,Z.Z)(e),"onSubmit",function(){var e=(0,n.Z)((function(e){var r,t,n;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:e.preventDefault(),r=(0,g.Z)(a.props.address),a.setState({loading:!0,errorMessage:""}),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,f.Z.eth.getAccounts()];case 2:return t=s.sent(),[4,r.methods.contribute().send({from:t[0],value:f.Z.utils.toWei(a.state.value,"ether")})];case 3:return s.sent(),j.Router.replaceRoute("/campaigns/".concat(a.props.address)),[3,5];case 4:return n=s.sent(),a.setState({errorMessage:n.message}),[3,5];case 5:return a.setState({loading:!1,value:""}),[2]}}))}));return function(r){return e.apply(this,arguments)}}()),e}return(0,a.Z)(t,[{key:"render",value:function(){var e=this;return(0,c.jsxs)(b.Z,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,children:[(0,c.jsxs)(b.Z.Field,{children:[(0,c.jsx)("label",{children:"Amount to Contribute"}),(0,c.jsx)(w.Z,{value:this.state.value,onChange:function(r){return e.setState({value:r.target.value})},label:"ether",labelPosition:"right"})]}),(0,c.jsx)(C.Z,{error:!0,header:"Oops!",content:this.state.errorMessage}),(0,c.jsx)(m.Z,{primary:!0,loading:this.state.loading,children:"Contribute!"})]})}}]),t}(d.Component),y=x,_=function(e){(0,i.Z)(t,e);var r=(0,o.Z)(t);function t(){return(0,s.Z)(this,t),r.apply(this,arguments)}return(0,a.Z)(t,[{key:"renderCards",value:function(){var e=this.props,r=e.manager,t=e.minimumContribution,n=e.requestsCount,s=e.approversCount,a=e.balance,i=[{header:r,meta:"Address of Manager",description:"The manager created this campaign and can create requests to withdraw money",style:{overflowWrap:"break-word"}},{header:t.toString(),meta:"Minimum Contribution (wei)",description:"You must contribute at least this much wei to become an approver"},{header:n.toString(),meta:"Number of Requests",description:"A request tries to withdraw money from the contract. Requests must be approved by approvers"},{header:s.toString(),meta:"Number of Approvers",description:"Number of people who have already donated to this campaign"},{header:f.Z.utils.fromWei(a,"ether"),meta:"Campaign Balance (ether)",description:"The balance is how much money this campaign has left to spend."}];return(0,c.jsx)(h.Z.Group,{items:i})}},{key:"render",value:function(){return(0,c.jsxs)(p.Z,{children:[(0,c.jsx)("h3",{children:"Campaign Show"}),(0,c.jsxs)(l.Z,{children:[(0,c.jsxs)(l.Z.Row,{children:[(0,c.jsx)(l.Z.Column,{width:10,children:this.renderCards()}),(0,c.jsx)(l.Z.Column,{width:6,children:(0,c.jsx)(y,{address:this.props.address})})]}),(0,c.jsx)(l.Z.Row,{children:(0,c.jsx)(l.Z.Column,{children:(0,c.jsx)(j.Link,{route:"/campaigns/".concat(this.props.address,"/requests"),children:(0,c.jsx)("a",{children:(0,c.jsx)(m.Z,{primary:!0,children:" View Requests"})})})})})]})]})}}],[{key:"getInitialProps",value:function(e){return(0,n.Z)((function(){var r,t,n,s,a,i,o;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return[4,(0,g.Z)(e.query.address).methods.getSummary().call()];case 1:return r=u.sent(),t=Number(r[0]),n=parseFloat(r[1]),s=f.Z.utils.fromWei(n.toString(),"ether"),a=Number(r[2]),i=Number(r[3]),o=r[4],[2,{address:e.query.address,minimumContribution:t,balance:Number(s),requestsCount:a,approversCount:i,manager:o}]}}))}))()}}]),t}(d.Component),S=_}},function(e){e.O(0,[774,526,65,299,998,888,179],(function(){return r=8164,e(e.s=r);var r}));var r=e.O();_N_E=r}]);